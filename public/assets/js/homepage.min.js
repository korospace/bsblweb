(function(e){"use strict";function t(){var t=e(window).width();e(".submenu").on("click",function(){t<992&&(e(".submenu ul").removeClass("active"),e(this).find("ul").toggleClass("active"))})}function a(){let t=!0,a=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;return e(".form-control").removeClass("is-invalid"),e(".error-message").html(""),""==e("#contact-name").val()?(e("#contact-name").addClass("is-invalid"),e("#contact-name-error").html("*nama harus di isi"),t=!1):e("#contact-name").val().length>20&&(e("#contact-name").addClass("is-invalid"),e("#contact-name-error").html("*lebih dari 20 huruf"),t=!1),""==e("#contact-email").val()?(e("#contact-email").addClass("is-invalid"),e("#contact-email-error").html("*email harus di isi"),t=!1):e("#contact-email").val().length>40?(e("#contact-email").addClass("is-invalid"),e("#contact-email-error").html("*lebih dari 40 huruf"),t=!1):a.test(String(e("#contact-email").val()).toLowerCase())||(e("#contact-email").addClass("is-invalid"),e("#contact-email-error").html("*email tidak valid"),t=!1),""==e("#contact-message").val()&&(e("#contact-message").addClass("is-invalid"),e("#contact-message-error").html("*pesan harus di isi"),t=!1),t}e(".owl-carousel").owlCarousel({loop:!0,margin:30,nav:!0,pagination:!0,responsive:{0:{items:1},600:{items:1},1000:{items:2}}}),e(window).scroll(function(){var t=e(window).scrollTop(),a=e(".header-text").height(),n=e("header").height();t>=a-n?e("header").addClass("background-header"):e("header").removeClass("background-header")}),t(),window.sr=new scrollReveal,e(".menu-trigger").length&&e(".menu-trigger").on("click",function(){e(this).toggleClass("active"),e(".header-area .nav").slideToggle(200)}),e("a[href*=\\#]:not([href=\\#])").on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=this.hash,a=e(this.hash);if(a=a.length?a:e("[name="+this.hash.slice(1)+"]"),a.length){var n=e(window).width();return n<991&&(e(".menu-trigger").removeClass("active"),e(".header-area .nav").slideUp(200)),e("html,body").animate({scrollTop:a.offset().top},700,"swing",function(){window.location.hash=t}),!1}}}),e(document).ready(function(){e('a[href^="#welcome"]').addClass("active"),e(".menu-item").on("click",function(t){t.preventDefault();var a=this,n=this.hash,i=e(n);e("html, body").stop().animate({scrollTop:i.offset().top},500,"swing",function(){window.location.hash=n,e(".menu-item").removeClass("active"),e(a).addClass("active")})}),e(window).scroll(function(t){var a=e(document).scrollTop()+80;0!==a?e(".menu-item").not('[href=""]').not('[href="javascript:;"]').each(function(){var t=e(this),n=e(t.attr("href"));n.position().top<=a&&n.position().top+n.height()>a?(e(".menu-item").removeClass("active"),t.addClass("active")):t.removeClass("active")}):e('a[href^="#welcome"]').addClass("active")})});const n={settings:{first_expanded:!1,toggle:!1},openAccordion:function(e,t){if(t.children.length){e.classList.add("is-open");let a=Math.floor(t.children[0].offsetHeight);t.style.height=a+"px"}},closeAccordion:function(e,t){e.classList.remove("is-open"),t.style.height=0},init:function(e){const t=this;let a=t.settings.first_expanded;e.classList.contains("is-first-expanded")&&(a=!0);let n=t.settings.toggle;e.classList.contains("is-toggle")&&(n=!0);const i=e.getElementsByClassName("accordion"),o=e.getElementsByClassName("accordion-head"),s=e.getElementsByClassName("accordion-body");for(let e=0;e<i.length;e++){i[e];const c=o[e],r=s[e];c.addEventListener("click",function(e){if(n)c.classList.contains("is-open")?t.closeAccordion(c,r):t.openAccordion(c,r);else{for(let e=0;e<s.length;e++)t.closeAccordion(o[e],s[e]);t.openAccordion(c,r)}}),0===e&&a&&t.openAccordion(c,r)}}};(function(){const e=document.getElementsByClassName("accordions");for(let t=0;t<e.length;t++)n.init(e[t])})(),e(".home-seperator").length&&e(".home-seperator .left-item, .home-seperator .right-item").imgfix(),e(".count-item").length&&e(".count-item strong").counterUp({delay:10,time:1e3}),e(window).on("load",function(){e(".cover").length&&e(".cover").parallax({imageSrc:e(".cover").data("image"),zIndex:"1"}),e("#preloader").animate({opacity:"0"},600,function(){setTimeout(function(){e("#preloader").css("visibility","hidden").fadeOut()},300)})}),e(window).on("resize",function(){t()}),e(function(){e("input, select").on("focus",function(){e(this).parent().find(".input-group-text").css("border-color","#80bdff")}),e("input, select").on("blur",function(){e(this).parent().find(".input-group-text").css("border-color","#ced4da")})}),axios.get(APIURL+"/transaksi/sampahmasuk").then(t=>{let a=t.data.data;a.forEach(t=>{e(`#sampah-${t.kategori}`).html(t.total)}),i()}).catch(e=>{});let i=()=>{e(".counter-value").each(function(){e(this).prop("Counter",0).animate({Counter:e(this).text()},{duration:3500,easing:"swing",step:function(t){e(this).text(Math.ceil(t))}})})};e("#contact").on("submit",function(t){if(t.preventDefault(),a()){showLoadingSpinner();let a=new FormData(t.target);axios.post(`${APIURL}/nasabah/sendkritik`,a,{headers:{}}).then(t=>{hideLoadingSpinner(),e("#contact-name").val(""),e("#contact-email").val(""),e("#contact-message").val(""),setTimeout(()=>{Swal.fire({icon:"success",title:"Success",text:"Pesan Telah Terkirim",showConfirmButton:!1,timer:2e3})},500)}).catch(e=>{hideLoadingSpinner(),500==e.response.status&&showAlert({message:"<strong>Ups . . .</strong> terjadi kesalahan pada server, coba sekali lagi",autohide:!0,type:"danger"})})}})})(window.jQuery);